!function(angular){"use strict";angular.module("angulartics.customerio",["angulartics"]).provider("$analytics_customerio",["$analyticsProvider",function($analyticsProvider){return{$get:["$window",function($window){return $window._cio}],init:function(siteId){window._cio=window._cio||[],function(){var a,b,c;for(a=function(f){return function(){window._cio.push([f].concat(Array.prototype.slice.call(arguments,0)))}},b=["load","identify","sidentify","track","page"],c=0;c<b.length;c++)window._cio[b[c]]=a(b[c]);var t=document.createElement("script"),s=document.getElementsByTagName("script")[0];t.async=!0,t.id="cio-tracker",t.setAttribute("data-site-id",siteId),t.src="https://assets.customer.io/assets/track.js",s.parentNode.insertBefore(t,s)}()}}}]).config(["$analyticsProvider",function($analyticsProvider){var userId,superProperties={};$analyticsProvider.registerPageTrack(function(path,$location){var properties={url:path};properties=angular.extend({},superProperties,properties),window._cio.track("pageView",properties)}),$analyticsProvider.registerEventTrack(function(eventName,properties){properties=properties||{},properties=angular.extend({},superProperties,properties),window._cio.track(eventName,properties)}),$analyticsProvider.registerSetUsername(function(username){userId=username,window._cio.identify({id:userId})}),$analyticsProvider.registerSetUserProperties(function(properties){null==(properties=properties||{}).id&&(properties.id=userId),window._cio.identify(properties)}),$analyticsProvider.registerSetSuperProperties(function(properties){for(var property in properties)properties.hasOwnProperty(property)&&(null==properties[property]?superProperties.hasOwnProperty(property)&&delete superProperties[property]:superProperties[property]=properties[property])})}])}(angular);